{
    "metadata": {
      "description": "Comprehensive middle school math skill dependency graph",
      "target_audience": "6th-8th grade students",
      "version": "2.0",
      "total_skills": 48,
      "note": "Expanded from 14 to 48 skills for better problem detection"
    },
    
    "skills": {
      
      "rate_problems": {
        "name": "Rate Problems (Distance, Speed, Time)",
        "description": "If bike goes 45 miles in 3 hours, how far in 5 hours?",
        "category": "word_problems",
        "layer1": ["unit_rate", "proportional_relationships", "writing_equations"],
        "layer2": ["multiplication", "division", "understanding_variables"],
        "diagnostics": {
          "layer1": ["If car goes 60 mph, how far in 3 hours?", "Write equation for d = rt"],
          "layer2": ["60 × 3 = ?", "180 ÷ 3 = ?"]
        },
        "common_mistakes": ["Dividing when should multiply", "Forgetting units"],
        "keywords": ["speed", "distance", "time", "travels", "mph", "constant speed"]
      },
      
      "unit_rate": {
        "name": "Unit Rate",
        "description": "Cost per item, miles per hour, etc",
        "category": "ratios",
        "layer1": ["division", "ratios_and_proportions"],
        "layer2": ["multiplication", "fractions"],
        "diagnostics": {
          "layer1": ["$15 for 3 items, cost per item?", "45 miles in 3 hours, mph?"],
          "layer2": ["15 ÷ 3 = ?", "What is 45/3?"]
        },
        "keywords": ["per", "each", "rate", "unit price", "speed"]
      },
      
      "proportional_relationships": {
        "name": "Proportional Relationships",
        "description": "If y = kx, find k or solve for y",
        "category": "ratios",
        "layer1": ["ratios_and_proportions", "direct_variation"],
        "layer2": ["multiplication", "division"],
        "diagnostics": {
          "layer1": ["If 2 apples cost $3, how much for 6?", "Is y = 3x proportional?"],
          "layer2": ["6 ÷ 2 = ?", "3 × 3 = ?"]
        },
        "keywords": ["proportional", "constant rate", "varies directly", "ratio stays same"]
      },
      
      "direct_variation": {
        "name": "Direct Variation (y = kx)",
        "description": "y varies directly with x",
        "category": "functions",
        "layer1": ["proportional_relationships", "writing_equations", "finding_slope"],
        "layer2": ["multiplication", "division"],
        "diagnostics": {
          "layer1": ["If y = 5x, what's k?", "y varies directly with x, (2,6) on line, find k"],
          "layer2": ["6 ÷ 2 = ?"]
        }
      },
      
      "writing_equations": {
        "name": "Writing Equations from Word Problems",
        "description": "Translate words into algebra",
        "category": "word_problems",
        "layer1": ["understanding_variables", "word_problem_keywords", "basic_arithmetic"],
        "layer2": ["reading_comprehension"],
        "diagnostics": {
          "layer1": ["'5 more than x' as equation?", "'product of 3 and x'?"],
          "layer2": ["What does 'more than' mean?"]
        },
        "keywords": ["write an equation", "express", "represent", "let x be"]
      },
      
      "evaluating_expressions": {
        "name": "Evaluating Expressions",
        "description": "If x=3, what is 2x+5?",
        "category": "algebra_basics",
        "layer1": ["substitution", "order_of_operations", "understanding_variables"],
        "layer2": ["basic_arithmetic"],
        "diagnostics": {
          "layer1": ["If x=4, what is 3x?", "If x=2, what is x+7?"],
          "layer2": ["3 × 4 = ?", "2 + 7 = ?"]
        },
        "keywords": ["evaluate", "substitute", "when x equals", "plug in"]
      },
      
      "substitution": {
        "name": "Substitution",
        "description": "Replace variable with number",
        "category": "algebra_basics",
        "layer1": ["understanding_variables", "order_of_operations"],
        "layer2": ["basic_arithmetic"],
        "diagnostics": {
          "layer1": ["Replace x with 5 in: x+3", "If t=2, what's 3t?"],
          "layer2": ["5 + 3 = ?", "3 × 2 = ?"]
        }
      },
  
      "word_problem_keywords": {
        "name": "Word Problem Keywords",
        "description": "Understanding 'more than', 'product', 'sum', etc",
        "category": "word_problems",
        "layer1": ["reading_comprehension"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What operation for 'more than'?", "'Product' means what?"],
          "layer2": []
        },
        "keywords_map": {
          "addition": ["more than", "increased by", "sum", "total", "plus"],
          "subtraction": ["less than", "decreased by", "difference", "minus"],
          "multiplication": ["product", "times", "multiplied by", "of"],
          "division": ["quotient", "divided by", "per", "ratio"]
        }
      },
      
      "two_step_equations": {
        "name": "Two-Step Equations",
        "description": "2x + 5 = 13",
        "category": "equations",
        "layer1": ["one_step_equations", "order_of_operations", "inverse_operations"],
        "layer2": ["understanding_variables", "basic_arithmetic"],
        "diagnostics": {
          "layer1": ["Solve x + 5 = 13", "Solve 3x = 12", "What's inverse of +5?"],
          "layer2": ["What is x?", "13 - 5 = ?"]
        }
      },
      
      "one_step_equations": {
        "name": "One-Step Equations",
        "description": "x + 5 = 12 or 3x = 9",
        "category": "equations",
        "layer1": ["understanding_variables", "inverse_operations"],
        "layer2": ["basic_arithmetic"],
        "diagnostics": {
          "layer1": ["What does x represent?", "To undo +5, do what?"],
          "layer2": ["12 - 5 = ?", "9 ÷ 3 = ?"]
        }
      },
      
      "multi_step_equations": {
        "name": "Multi-Step Equations",
        "description": "3x + 5 = 2x + 8 or 2(x + 3) = 16",
        "category": "equations",
        "layer1": ["two_step_equations", "combining_like_terms", "distributive_property"],
        "layer2": ["one_step_equations", "order_of_operations"],
        "diagnostics": {
          "layer1": ["Solve 2x + 3 = 11", "Simplify 3x + 5x", "Expand 2(x+3)"],
          "layer2": ["Solve x + 5 = 10"]
        }
      },
      
      "inverse_operations": {
        "name": "Inverse Operations",
        "description": "Opposite of +5 is -5, opposite of ×3 is ÷3",
        "category": "algebra_basics",
        "layer1": ["basic_arithmetic"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What undoes +7?", "What undoes ×4?"],
          "layer2": []
        }
      },
      
      "percentages": {
        "name": "Percentages",
        "description": "Find 15% of 60",
        "category": "number_sense",
        "layer1": ["decimals", "fractions", "multiplication"],
        "layer2": ["division", "place_value"],
        "diagnostics": {
          "layer1": ["Convert 25% to decimal", "What is 0.5 × 10?"],
          "layer2": ["25 ÷ 100 = ?"]
        }
      },
      
      "percent_word_problems": {
        "name": "Percent Word Problems",
        "description": "Tax, tip, discount, markup problems",
        "category": "word_problems",
        "layer1": ["percentages", "multiplication", "addition", "subtraction"],
        "layer2": ["decimals"],
        "diagnostics": {
          "layer1": ["Find 20% tip on $50", "Item is $100, 25% off, final price?"],
          "layer2": ["What is 0.2 × 50?"]
        },
        "keywords": ["discount", "tax", "tip", "markup", "sale", "off"]
      },
      
      "fractions": {
        "name": "Fraction Operations",
        "description": "1/2 + 1/3 or 2/3 × 4/5",
        "category": "number_sense",
        "layer1": ["equivalent_fractions", "finding_common_denominators"],
        "layer2": ["multiplication", "division"],
        "diagnostics": {
          "layer1": ["Is 2/4 = 1/2?", "Add 1/2 + 1/4"],
          "layer2": ["2 × 3 = ?"]
        }
      },
      
      "equivalent_fractions": {
        "name": "Equivalent Fractions",
        "description": "2/4 = 1/2 = 3/6",
        "category": "number_sense",
        "layer1": ["multiplication", "division", "simplifying_fractions"],
        "layer2": ["basic_arithmetic"],
        "diagnostics": {
          "layer1": ["Is 3/6 = 1/2?", "Simplify 4/8"],
          "layer2": ["6 ÷ 2 = ?"]
        }
      },
      
      "simplifying_fractions": {
        "name": "Simplifying Fractions",
        "description": "Reduce 6/8 to 3/4",
        "category": "number_sense",
        "layer1": ["greatest_common_factor", "division"],
        "layer2": ["multiplication"],
        "diagnostics": {
          "layer1": ["What's GCF of 6 and 8?", "Simplify 10/15"],
          "layer2": []
        }
      },
      
      "finding_common_denominators": {
        "name": "Finding Common Denominators",
        "description": "To add 1/2 + 1/3, make both have denominator 6",
        "category": "number_sense",
        "layer1": ["equivalent_fractions", "least_common_multiple"],
        "layer2": ["multiplication"],
        "diagnostics": {
          "layer1": ["What's LCM of 2 and 3?", "Rewrite 1/2 with denominator 6"],
          "layer2": []
        }
      },
  
      "decimals": {
        "name": "Decimal Operations",
        "description": "0.5 + 0.3 or 0.4 × 0.2",
        "category": "number_sense",
        "layer1": ["place_value", "fractions"],
        "layer2": ["basic_arithmetic"],
        "diagnostics": {
          "layer1": ["0.5 + 0.3 = ?", "What place is 5 in 0.25?"],
          "layer2": ["5 + 3 = ?"]
        }
      },
      
      "place_value": {
        "name": "Place Value",
        "description": "Understanding tenths, hundredths, thousands",
        "category": "number_sense",
        "layer1": [],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What place is 5 in 523?", "What's 3.25 in words?"],
          "layer2": []
        }
      },
      
      "ratios_and_proportions": {
        "name": "Ratios & Proportions",
        "description": "If 2:3 = x:12, find x",
        "category": "ratios",
        "layer1": ["fractions", "equivalent_fractions", "cross_multiplication"],
        "layer2": ["multiplication", "division"],
        "diagnostics": {
          "layer1": ["Solve 2/3 = x/12", "What's 2:3 as fraction?"],
          "layer2": ["12 ÷ 3 = ?"]
        }
      },
      
      "cross_multiplication": {
        "name": "Cross Multiplication",
        "description": "If a/b = c/d, then ad = bc",
        "category": "ratios",
        "layer1": ["multiplication", "one_step_equations"],
        "layer2": ["division"],
        "diagnostics": {
          "layer1": ["Solve 2/3 = x/6 using cross multiplication"],
          "layer2": ["2 × 6 = ?"]
        }
      },
      
      "distributive_property": {
        "name": "Distributive Property",
        "description": "3(x + 2) = 3x + 6",
        "category": "algebra_basics",
        "layer1": ["multiplication", "order_of_operations", "understanding_variables"],
        "layer2": ["addition", "basic_arithmetic"],
        "diagnostics": {
          "layer1": ["Expand 4(x+2)", "What's 3 × 5?"],
          "layer2": ["2 + 2 = ?"]
        }
      },
      
      "combining_like_terms": {
        "name": "Combining Like Terms",
        "description": "3x + 5x = 8x",
        "category": "algebra_basics",
        "layer1": ["understanding_variables", "addition", "subtraction"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["Simplify 2x + 3x", "Simplify 5y - 2y"],
          "layer2": []
        }
      },
      
      "linear_inequalities": {
        "name": "Linear Inequalities",
        "description": "2x + 3 < 15",
        "category": "equations",
        "layer1": ["two_step_equations", "number_line", "inequality_symbols"],
        "layer2": ["one_step_equations"],
        "diagnostics": {
          "layer1": ["Solve 2x + 3 = 15 (equation first)", "What does < mean?"],
          "layer2": []
        }
      },
      
      "inequality_symbols": {
        "name": "Inequality Symbols",
        "description": "Understanding <, >, ≤, ≥",
        "category": "algebra_basics",
        "layer1": ["comparing_numbers"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["Is 5 < 8?", "What does ≥ mean?"],
          "layer2": []
        }
      },
      
      "graphing_points": {
        "name": "Graphing Points on Coordinate Plane",
        "description": "Plot (3, -2)",
        "category": "graphing",
        "layer1": ["coordinate_plane", "negative_numbers"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["Plot (2,3)", "What's x-coordinate of (5,7)?"],
          "layer2": []
        }
      },
      
      "coordinate_plane": {
        "name": "Understanding Coordinate Plane",
        "description": "x-axis, y-axis, origin, quadrants",
        "category": "graphing",
        "layer1": ["number_line", "negative_numbers"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["Where is origin?", "Which axis is horizontal?"],
          "layer2": []
        }
      },
      
      "finding_slope": {
        "name": "Finding Slope",
        "description": "Slope from two points or from graph",
        "category": "graphing",
        "layer1": ["coordinate_plane", "ratios_and_proportions", "rise_over_run"],
        "layer2": ["subtraction", "division", "negative_numbers"],
        "diagnostics": {
          "layer1": ["Find slope from (1,2) and (3,6)", "What is rise over run?"],
          "layer2": ["6 - 2 = ?", "4 ÷ 2 = ?"]
        }
      },
      
      "rise_over_run": {
        "name": "Rise Over Run",
        "description": "Slope = change in y / change in x",
        "category": "graphing",
        "layer1": ["coordinate_plane", "division"],
        "layer2": ["subtraction"],
        "diagnostics": {
          "layer1": ["From (1,2) to (3,6), what's rise?", "What's run?"],
          "layer2": ["6 - 2 = ?"]
        }
      },
      
      "slope_intercept_form": {
        "name": "Slope-Intercept Form (y = mx + b)",
        "description": "Identify slope and y-intercept",
        "category": "graphing",
        "layer1": ["finding_slope", "understanding_variables"],
        "layer2": ["coordinate_plane"],
        "diagnostics": {
          "layer1": ["In y=3x+2, what's slope?", "What's y-intercept?"],
          "layer2": []
        }
      },
      
      "graphing_linear_equations": {
        "name": "Graphing Linear Equations",
        "description": "Graph y = 2x + 1",
        "category": "graphing",
        "layer1": ["slope_intercept_form", "graphing_points"],
        "layer2": ["finding_slope"],
        "diagnostics": {
          "layer1": ["Graph y = x + 2", "Plot y-intercept of y = 2x + 1"],
          "layer2": []
        }
      },
      
      "systems_of_equations": {
        "name": "Systems of Equations",
        "description": "Solve x + y = 5 and 2x - y = 1",
        "category": "equations",
        "layer1": ["multi_step_equations", "substitution_method", "elimination_method"],
        "layer2": ["two_step_equations"],
        "diagnostics": {
          "layer1": ["Solve 2x + 3 = x + 7", "Which method for system?"],
          "layer2": []
        }
      },
      
      "substitution_method": {
        "name": "Substitution Method",
        "description": "Solve system by substituting one equation into other",
        "category": "equations",
        "layer1": ["multi_step_equations", "substitution"],
        "layer2": ["two_step_equations"],
        "diagnostics": {
          "layer1": ["If y=2x, substitute into x+y=6"],
          "layer2": []
        }
      },
      
      "elimination_method": {
        "name": "Elimination Method",
        "description": "Solve system by adding/subtracting equations",
        "category": "equations",
        "layer1": ["multi_step_equations", "combining_like_terms"],
        "layer2": ["addition", "subtraction"],
        "diagnostics": {
          "layer1": ["x+y=5 and x-y=1, add equations"],
          "layer2": []
        }
      },
      
      "exponents": {
        "name": "Exponents",
        "description": "2^3 = 8, x^2 means x × x",
        "category": "number_sense",
        "layer1": ["multiplication"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What is 3^2?", "What does 5^3 mean?"],
          "layer2": ["3 × 3 = ?"]
        }
      },
      
      "exponent_rules": {
        "name": "Exponent Rules",
        "description": "x^a × x^b = x^(a+b)",
        "category": "algebra_basics",
        "layer1": ["exponents", "addition", "subtraction"],
        "layer2": ["multiplication"],
        "diagnostics": {
          "layer1": ["Simplify x^2 × x^3", "What is (x^2)^3?"],
          "layer2": []
        }
      },
      
      "square_roots": {
        "name": "Square Roots",
        "description": "√16 = 4 because 4^2 = 16",
        "category": "number_sense",
        "layer1": ["exponents", "multiplication"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What is √25?", "What squared equals 9?"],
          "layer2": []
        }
      },
      
      "order_of_operations": {
        "name": "Order of Operations (PEMDAS)",
        "description": "3 + 2 × 4 = 11, not 20",
        "category": "algebra_basics",
        "layer1": ["multiplication", "addition", "subtraction", "division"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["Calculate 3 + 2 × 4", "Which operation first?"],
          "layer2": []
        }
      },
      
      "understanding_variables": {
        "name": "Understanding Variables",
        "description": "What x represents in equations",
        "category": "algebra_basics",
        "layer1": ["basic_arithmetic"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["If x = 5, what is x + 3?", "What does x represent?"],
          "layer2": []
        }
      },
      
      "negative_numbers": {
        "name": "Operations with Negative Numbers",
        "description": "-3 + 5 = 2, -2 × 3 = -6",
        "category": "number_sense",
        "layer1": ["number_line", "basic_arithmetic"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["-3 + 5 = ?", "-2 × 3 = ?"],
          "layer2": []
        }
      },
      
      "absolute_value": {
        "name": "Absolute Value",
        "description": "|−5| = 5",
        "category": "number_sense",
        "layer1": ["negative_numbers", "number_line"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What is |-7|?", "What is |3|?"],
          "layer2": []
        }
      },
      
      "number_line": {
        "name": "Number Line",
        "description": "Plotting and comparing numbers on a line",
        "category": "number_sense",
        "layer1": [],
        "layer2": [],
        "diagnostics": {
          "layer1": ["Where is 5 on number line?", "Is -3 left or right of 0?"],
          "layer2": []
        }
      },
      
      "comparing_numbers": {
        "name": "Comparing Numbers",
        "description": "5 > 3, -2 < 1",
        "category": "number_sense",
        "layer1": ["number_line"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["Is 7 > 5?", "Which is bigger: -2 or -5?"],
          "layer2": []
        }
      },
      
      "greatest_common_factor": {
        "name": "Greatest Common Factor (GCF)",
        "description": "GCF of 12 and 18 is 6",
        "category": "number_sense",
        "layer1": ["multiplication", "division", "factors"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What's GCF of 8 and 12?", "List factors of 12"],
          "layer2": []
        }
      },
      
      "least_common_multiple": {
        "name": "Least Common Multiple (LCM)",
        "description": "LCM of 4 and 6 is 12",
        "category": "number_sense",
        "layer1": ["multiplication", "multiples"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What's LCM of 3 and 4?", "List multiples of 4"],
          "layer2": []
        }
      },
      
      "factors": {
        "name": "Factors",
        "description": "Numbers that divide evenly: factors of 12 are 1,2,3,4,6,12",
        "category": "number_sense",
        "layer1": ["division", "multiplication"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["List factors of 15", "Is 4 a factor of 12?"],
          "layer2": []
        }
      },
      
      "multiples": {
        "name": "Multiples",
        "description": "Multiples of 3 are 3, 6, 9, 12...",
        "category": "number_sense",
        "layer1": ["multiplication"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["List first 5 multiples of 4", "Is 15 a multiple of 3?"],
          "layer2": []
        }
      },
      
      "basic_arithmetic": {
        "name": "Basic Arithmetic",
        "description": "Addition, subtraction, multiplication, division",
        "category": "fundamentals",
        "layer1": [],
        "layer2": [],
        "diagnostics": {
          "layer1": ["5 + 3 = ?", "8 - 2 = ?", "4 × 3 = ?", "12 ÷ 4 = ?"]
        }
      },
      
      "addition": {
        "name": "Addition",
        "description": "5 + 3 = 8",
        "category": "fundamentals",
        "layer1": [],
        "layer2": [],
        "diagnostics": {
          "layer1": ["7 + 5 = ?", "12 + 8 = ?"]
        }
      },
      
      "subtraction": {
        "name": "Subtraction",
        "description": "10 - 3 = 7",
        "category": "fundamentals",
        "layer1": ["addition"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["15 - 7 = ?", "20 - 12 = ?"]
        }
      },
      
      "multiplication": {
        "name": "Multiplication",
        "description": "4 × 5 = 20",
        "category": "fundamentals",
        "layer1": ["addition"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["6 × 7 = ?", "9 × 8 = ?"]
        }
      },
      
      "division": {
        "name": "Division",
        "description": "20 ÷ 4 = 5",
        "category": "fundamentals",
        "layer1": ["multiplication"],
        "layer2": [],
        "diagnostics": {
          "layer1": ["24 ÷ 6 = ?", "35 ÷ 7 = ?"]
        }
      },
      
      "reading_comprehension": {
        "name": "Reading Comprehension",
        "description": "Understanding what a word problem is asking",
        "category": "fundamentals",
        "layer1": [],
        "layer2": [],
        "diagnostics": {
          "layer1": ["What is the problem asking for?", "What information is given?"]
        }
      }
    },
    
    "problem_to_skill_mapping": {
      "word_problems": {
        "rate_problems": ["rate_problems", "unit_rate", "proportional_relationships"],
        "percentage_problems": ["percentages", "percent_word_problems"],
        "ratio_problems": ["ratios_and_proportions", "proportional_relationships"],
        "distance_speed_time": ["rate_problems", "writing_equations", "evaluating_expressions"],
        "proportional_word_problems": ["proportional_relationships", "unit_rate"],
        "equation_word_problems": ["writing_equations", "one_step_equations", "two_step_equations"]
      },
      "equations": {
        "one_step": ["one_step_equations", "inverse_operations"],
        "two_step": ["two_step_equations", "order_of_operations"],
        "multi_step": ["multi_step_equations", "combining_like_terms", "distributive_property"],
        "systems": ["systems_of_equations", "substitution_method", "elimination_method"]
      },
      "graphing": {
        "plot_points": ["graphing_points", "coordinate_plane"],
        "find_slope": ["finding_slope", "rise_over_run"],
        "graph_line": ["graphing_linear_equations", "slope_intercept_form"],
        "identify_slope_intercept": ["slope_intercept_form", "finding_slope"]
      }
    },
    
    "skill_categories": {
      "fundamentals": ["basic_arithmetic", "addition", "subtraction", "multiplication", "division", "reading_comprehension"],
      "number_sense": ["place_value", "decimals", "fractions", "percentages", "negative_numbers", "absolute_value", "exponents", "square_roots", "factors", "multiples", "gcf", "lcm"],
      "algebra_basics": ["understanding_variables", "order_of_operations", "distributive_property", "combining_like_terms", "inverse_operations", "exponent_rules", "inequality_symbols"],
      "equations": ["one_step_equations", "two_step_equations", "multi_step_equations", "linear_inequalities", "systems_of_equations", "substitution_method", "elimination_method"],
      "ratios": ["ratios_and_proportions", "unit_rate", "proportional_relationships", "direct_variation", "cross_multiplication"],
      "graphing": ["number_line", "coordinate_plane", "graphing_points", "finding_slope", "rise_over_run", "slope_intercept_form", "graphing_linear_equations"],
      "word_problems": ["rate_problems", "word_problem_keywords", "writing_equations", "percent_word_problems", "evaluating_expressions", "substitution"]
    }
  }